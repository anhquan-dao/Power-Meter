* C:\users\quan\My Documents\VGU\Power Meter\ltspice\PMOS_sw_reduced_parts.asc
V1 Vin 0 PULSE(5 24 0 1u 1u 200m 480m 2)
R_load out 0 9
D1 gate Vpos EDZV18B
C1 NC_01 0 100µF
R1 reverse_gate 0 50
D2 reverse_gate Vpos EDZV18B
V§1_2ref 1_2ref 0 1.2
XU4 N012 1_2ref 5V 0 OVLO LM393
R7 N012 Vpos 27k
R8 0 N012 1k
R9 5V OVLO 1k
C3 NC_02 0 1µF
Q1 N001 N003 0 0 2N2222
R_gate2 N003 gate_ctrl 10k
R2 Vpos N001 3k3
Q2 Vpos N001 gate 0 2N2222
D3 N002 N001 D
XU1 Vin reverse_gate Vpos IRF4905
XU2 out gate Vpos IRF4905
R11 gate N002 100k
XU9 out gate Vpos IRF4905
XU10 Vin reverse_gate Vpos IRF4905
XU11 N009 N004 5V 0 gate_ctrl LM393
R19 N009 0 10k
R20 5V N004 10k
R21 N004 0 10k
D6 OVLO N004 1N5817
D7 OCP N004 1N5817
R10 5V gate_ctrl 1k
V§RESET N008 0 PULSE(0 5 0 1u 1u 10m 160m)
XU3 N010 0 N007 TL431
XU5 N005 0 5V LM7805
XU7 N005 N007 Vpos IRF4905
R3 Vpos N007 1k
R4 Vpos N010 3k3
R5 N010 0 1k1
D4 N008 N009 1N4148
D10 N011 N009 1N4148
D11 gate_ctrl N011 1N4148
D5 N006 N004 1N5817
V§ALE N006 0 PULSE(0 5 100m 1u 1u 5m)
.model D D
.lib C:\users\quan\My Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\users\quan\My Documents\LTspiceXVII\lib\cmp\standard.bjt
.tran 0 800m 0 1m startup
.param V_in=30
.param R_L = (V_in^2)/100
.Model SW_1 SW(Ron=10m Roff=100Meg Vt=3)
.lib ..\sym\ZZZ\MOS\IRF\LIB\irf4905.spi
.lib regulators.lib
.lib Sborka.lib
.lib TL431.mod
.backanno
.end
